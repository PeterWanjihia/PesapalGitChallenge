
It looks like you're encountering an issue with how your program handles adding the
 same file multiple times to the staging area, especially after modifying its contents. 
 From what you've shared, it s#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <errno.h>
#include <openssl/sha.h>

#define STAGING_FILE_PATH ".repo/staging/staged_files.txt"

// Function to normalize file path by removing trailing slashes
void normalize_path(char *path) {
    size_t len = strlen(path);
    while (len > 0 && (path[len - 1] == '/' || path[len - 1] == '\\')) {
        path[len - 1] = '\0';
        len--;
    }
}

// Function to trim trailing whitespaces and newlines from a string
void trim_hash(char *hash) {
    size_t len = strlen(hash);
    while (len > 0 && (hash[len - 1] == '\n' || hash[len - 1] == ' ' || hash[len - 1] == '\r')) {
        hash[len - 1] = '\0';
        len--;
    }
}

// Function to generate the SHA-256 hash of a file
void generate_hash(const char *filename, char *hash_out) {
    FILE *file = fopen(filename, "rb");
    if (!file) {
        perror("Error opening file for hashing");
        exit(EXIT_FAILURE);
    }

    unsigned char buffer[1024];
    unsigned char hash[SHA256_DIGEST_LENGTH];
    SHA256_CTX sha256_ctx;
    SHA256_Init(&sha256_ctx);

    size_t byte

